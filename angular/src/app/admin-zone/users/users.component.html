<div class="users">

    <div class="users__container">


    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <table mat-table [dataSource]="users"  >

        <!-- Colunas -->
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let user"> {{user.email}} </td>
        </ng-container>
    
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Nome </th>
            <td mat-cell *matCellDef="let user"> {{user.name}} </td>
        </ng-container>
    
        <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef> Data de Registo </th>
            <td mat-cell *matCellDef="let user"> {{user.date}} </td>
        </ng-container>
    
        <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef> Tipo de Utilizador </th>
            <td mat-cell *matCellDef="let user"> 
                <button mat-button matTooltip="Editar" matTooltipPosition="left"  *ngIf="user.role == 'admin'" class="button-blue" (click)="showEditUserDialog(user.email , user.name,  user.role , usersPerPage, currentPage)" >
                    {{user.role}} 
                </button>
                <button mat-button matTooltip="Editar" matTooltipPosition="left"  *ngIf="user.role == 'active'" class="button-green" (click)="showEditUserDialog(user.email , user.name, user.role , usersPerPage, currentPage)">
                    {{user.role}} 
                </button>
                <button mat-button matTooltip="Editar" matTooltipPosition="left" *ngIf="user.role == 'inactive'" class="button-orange" (click)="showEditUserDialog(user.email , user.name, user.role , usersPerPage, currentPage)" >
                    {{user.role}} 
                </button>
                
            </td>
        </ng-container>
    
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> 
            </th>
            <td mat-cell *matCellDef="let user"> 
                <button mat-button class="button-red" (click)="showDeleteUserDialog(user.email, user.name , usersPerPage, currentPage)">
                    Apagar 
                </button>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="usersColumnsToDisplay"></tr>
        <tr mat-row *matRowDef="let myRowData; columns: usersColumnsToDisplay"></tr>
    
    </table>
    <div class="paginator">
        <mat-paginator  
            [length]="totalUsers" 
            [pageSize]="usersPerPage" 
            [pageSizeOptions]="pageSizeOptions" 
            (page)="onChangedPage($event)"
            >
        </mat-paginator>
    </div>
    




</div>
</div>

